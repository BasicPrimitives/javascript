/*
 Basic Primitives orgEditor Demo v2.0.6

 (c) Basic Primitives Inc


 Dual licensed under the MIT or GPL Version 2 licenses.
 http://jquery.org/license

*/
(function(){var a=function(a){var a=a.split("."),b=window,d;for(d=0;d<a.length;d+=1)b=b[a[d]]=b[a[d]]||{};return b};a("primitives.orgeditor");a("primitives.helpers.controls")})();primitives.helpers.controls.ControlType={Caption:0,RadioBox:1,CheckBox:2,DropDownBox:3,SizeBox:4,TextBox:5};primitives.helpers.controls.CaptionConfig=function(a,c,b){this.controlType=primitives.helpers.controls.ControlType.Caption;this.caption=a;this.isBig=c;this.id=b};
primitives.helpers.controls.RadioBoxConfig=function(a,c,b,d,e,f){this.controlType=primitives.helpers.controls.ControlType.RadioBox;this.id=a;this.defaultItem=c;this.caption=b;this.items=d;this.valueType=e;this.onUpdate=f};primitives.helpers.controls.CheckBoxConfig=function(a,c,b,d){this.controlType=primitives.helpers.controls.ControlType.CheckBox;this.id=a;this.defaultValue=c;this.caption=b;this.onUpdate=d};
primitives.helpers.controls.DropDownBoxConfig=function(a,c,b,d,e,f){this.controlType=primitives.helpers.controls.ControlType.DropDownBox;this.id=a;this.defaultItem=c;this.caption=b;this.items=d;this.valueType=e;this.onUpdate=f};primitives.helpers.controls.SizeConfig=function(a,c,b,d,e,f,g){this.controlType=primitives.helpers.controls.ControlType.SizeBox;this.id=a;this.defaultItem=c;this.caption=b;this.widths=d;this.heights=e;this.valueType=f;this.onUpdate=g};
primitives.helpers.controls.TextBoxConfig=function(a,c,b,d,e){this.controlType=primitives.helpers.controls.ControlType.TextBox;this.id=a;this.defaultItem=c;this.caption=b;this.valueType=d;this.onUpdate=e};primitives.helpers.controls.CaptionRender=function(){this.render=function(a,c){var b=a.isBig?"h3":"p";return jQuery("<"+b+(""!==a.id?" id='"+c+a.id+"' ":"")+">"+a.caption+"</"+b+">")}};
primitives.helpers.controls.RadioBoxRender=function(){this.render=function(a,c,b){var d=jQuery("<p id="+c+a.id+" title="+a.id+">"+a.caption+"</p>"),e;for(e in a.items){var f=a.items[e];d.append(jQuery("<br/><label><input name='"+c+a.id+"' type='radio' value='"+f+"' "+(f==b?"checked":"")+" />"+primitives.common.splitCamelCaseName(e).join(" ")+"</label>"))}d.change(function(){a.onUpdate(d,a)});return d};this.getValue=function(a,c,b){return(0,b[a.valueType])(jQuery("input:radio[name="+c+a.id+"]:checked").val())}};
primitives.helpers.controls.CheckBoxRender=function(){this.render=function(a,c,b){controlBody=jQuery("<label title="+a.id+"><input name='"+c+a.id+"' type='checkbox' "+(!0==b?"checked":"")+" />"+a.caption+"</label><br/>");controlBody.change(function(){a.onUpdate(controlBody,a)});return controlBody};this.getValue=function(a,c){return result=jQuery("input:checkbox[name="+c+a.id+"]").is(":checked")}};
primitives.helpers.controls.DropDownBoxRender=function(){this.render=function(a,c,b){var d=jQuery("<p id="+c+a.id+" title="+a.id+">"+a.caption+": &nbsp;</p>"),c=jQuery("<select></select>"),e,f;d.append(c);if(primitives.common.isArray(a.items)){e=!1;null==b&&(c.append(jQuery("<option value='-1' selected>NULL</option>")),e=!0);for(var g=0,h=a.items.length;g<h;g+=1)f=a.items[g],c.append(jQuery("<option value='"+("NULL"==f?-1:f)+"' "+(f==b?"selected":"")+" >"+f+"</option>")),f==b&&(e=!0);e||c.append(jQuery("<option value='"+
b+"' selected>"+b+"</option>"))}else for(e in null==b&&c.append(jQuery("<option value='-1' selected>NULL</option>")),a.items)a.items.hasOwnProperty(e)&&(f=a.items[e],c.append(jQuery("<option value='"+("NULL"==f?-1:f)+"' "+(f==b?"selected":"")+" >"+primitives.common.splitCamelCaseName(e).join(" ")+"</option>")));d.change(function(){a.onUpdate(d,a)});return d};this.getValue=function(a,c,b){a=(0,b[a.valueType])(jQuery("#"+c+a.id+" option:selected").val());-1==a&&(a=null);return a}};
primitives.helpers.controls.SizeRender=function(){this._render=function(a,c,b,d,e){var f=jQuery("<span id="+b+a.id+"_"+d+" title="+a.id+">"+d+": &nbsp;</span>"),b=jQuery("<select></select>");f.append(b);var g=!1;null==e&&(b.append(jQuery("<option value='-1' selected>NULL</option>")),g=!0);for(var h=0,i=c.length;h<i;h+=1)d=c[h],b.append(jQuery("<option value='"+("NULL"==d?-1:d)+"' "+(!g&&d==e?"selected":"")+" >"+d+"</option>")),!g&&d==e&&(g=!0);g||b.append(jQuery("<option value='"+e+"' selected>"+
e+"</option>"));f.change(function(){a.onUpdate(f,a)});return f};this.render=function(a,c,b){var d=jQuery("<p title="+a.id+">"+a.caption+"<br/></p>");d.append(this._render(a,a.widths,c,"Width",b&&b.width));d.append("&nbsp;");d.append(this._render(a,a.heights,c,"Height",b&&b.height));return d};this.getValue=function(a,c,b){a=(0,b[a.valueType])(jQuery("#"+c+a.id+"_Width option:selected").val(),jQuery("#"+c+a.id+"_Height option:selected").val());-1==a&&(a=null);return a}};
primitives.helpers.controls.TextBoxRender=function(){this.render=function(a,c,b){var d=jQuery('<br/><label title="'+a.id+'" for="'+c+a.id+'">'+a.caption+'</label>&nbsp;<input type="text" name="'+c+a.id+'" class="text ui-widget-content ui-corner-all" value="'+(null!=b?b:"")+'" />');d.change(function(){a.onUpdate(d,a)});return d};this.getValue=function(a,c,b){return(0,b[a.valueType])(jQuery("input[name="+c+a.id+"]").val())}};
primitives.helpers.controls.ValueType={Integer:0,String:1,Number:2,Boolean:3,Size:4,Thickness:5};primitives.helpers.controls.IntegerFormatter=function(a){return parseInt(a,10)};primitives.helpers.controls.StringFormatter=function(a){return null!=a?a.toString():a};primitives.helpers.controls.NumberFormatter=function(a){return parseFloat(a,10)};primitives.helpers.controls.BooleanFormatter=function(a){a=a.toString().toLowerCase();return"true"==a||"1"==a};
primitives.helpers.controls.SizeFormatter=function(a,c){var b=null,d;switch(arguments.length){case 1:b=parseFloat(a,10);b=new primitives.common.Size(b,b);break;case 2:b=parseFloat(a,10),d=parseFloat(c,10),b=new primitives.common.Size(b,d)}return b};primitives.helpers.controls.ThicknessFormatter=function(a){a=parseFloat(a,10);return new primitives.common.Thickness(a,a,a,a)};primitives.helpers.controls.PanelConfig=function(a,c,b){this.caption=a;this.items=c;this.namespace=b};
primitives.helpers.controls.Render=function(a,c){this.renders={};this.renders[primitives.helpers.controls.ControlType.Caption]=new primitives.helpers.controls.CaptionRender;this.renders[primitives.helpers.controls.ControlType.RadioBox]=new primitives.helpers.controls.RadioBoxRender;this.renders[primitives.helpers.controls.ControlType.CheckBox]=new primitives.helpers.controls.CheckBoxRender;this.renders[primitives.helpers.controls.ControlType.DropDownBox]=new primitives.helpers.controls.DropDownBoxRender;
this.renders[primitives.helpers.controls.ControlType.SizeBox]=new primitives.helpers.controls.SizeRender;this.renders[primitives.helpers.controls.ControlType.TextBox]=new primitives.helpers.controls.TextBoxRender;this.formatters={};this.formatters[primitives.helpers.controls.ValueType.Integer]=primitives.helpers.controls.IntegerFormatter;this.formatters[primitives.helpers.controls.ValueType.String]=primitives.helpers.controls.StringFormatter;this.formatters[primitives.helpers.controls.ValueType.Number]=
primitives.helpers.controls.NumberFormatter;this.formatters[primitives.helpers.controls.ValueType.Boolean]=primitives.helpers.controls.BooleanFormatter;this.formatters[primitives.helpers.controls.ValueType.Size]=primitives.helpers.controls.SizeFormatter;this.formatters[primitives.helpers.controls.ValueType.Thickness]=primitives.helpers.controls.ThicknessFormatter;this.panels=a;this.defaultValues=c;this.render=function(a){var c=jQuery("<div></div>");a.append(c);for(var a=0,e=this.panels.length;a<e;a+=
1){var f=this.panels[a];c.append(jQuery("<h3>"+f.caption+"</h3>"));var g=jQuery("<div></div>");c.append(g);for(var h=0;h<f.items.length;h+=1){var i=f.items[h],j=this.renders[i.controlType],k=primitives.common.isNullOrEmpty(f.namespace)?this.defaultValues[i.id]:this.defaultValues[f.namespace][i.id];g.append(j.render(i,f.namespace||"",k))}}c.accordion({active:0,animate:30,heightStyle:"content"})};this.getValues=function(){for(var a={},c=0,e=this.panels.length;c<e;c+=1){var f=this.panels[c],g=a;primitives.common.isNullOrEmpty(f.namespace)||
(a.hasOwnProperty(f.namespace)||(a[f.namespace]={}),g=a[f.namespace]);for(var h=0;h<f.items.length;h+=1){var i=f.items[h],j=this.renders[i.controlType];null!=j.getValue&&(g[i.id]=j.getValue(i,f.namespace||"",this.formatters))}}return a}};primitives.helpers.controls.getOrgEditorOptionsRender=function(a,c){var b;b=a.concat(primitives.helpers.controls.getCommonOptionsPanels(function(){},!1));return new primitives.helpers.controls.Render(b,c)};
primitives.helpers.controls.getOrgDiagramOptionsRender=function(a,c){var b=primitives.helpers.controls.getCommonOptionsPanels(c,!0);return new primitives.helpers.controls.Render(b,a)};
primitives.helpers.controls.getFamDiagramOptionsRender=function(a,c,b){a=a.concat(primitives.helpers.controls.getFamDiagramOptionsPanels(b));a=a.concat(primitives.helpers.controls.getAnnotationsOptionsPanels(b));a=a.concat(primitives.helpers.controls.getCommonOptionsPanels(b,!0));return new primitives.helpers.controls.Render(a,c)};
primitives.helpers.controls.getFamDiagramOptionsPanels=function(a){return[new primitives.helpers.controls.PanelConfig("Family Diagram Specific Options",[new primitives.helpers.controls.RadioBoxConfig("neighboursSelectionMode",primitives.common.NeighboursSelectionMode.ParentsChildrenSiblingsAndSpouses,"Neighbours Selection Modes",primitives.common.NeighboursSelectionMode,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.RadioBoxConfig("groupByType",primitives.common.GroupByType.Children,
'Group by option defines node placement in layout close to its parents or children when node is linked across multiple levels in hierarchy. See "alignment" data set.',{Children:2,Parents:1},primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.DropDownBoxConfig("alignBylevels","true","This option keeps items at the same levels after connections bundling",["true","false"],primitives.helpers.controls.ValueType.Boolean,a),new primitives.helpers.controls.DropDownBoxConfig("hideGrandParentsConnectors",
"true","This option hides direct connectors to grand parents. It helps to reduce diagrams connectors layout complexity. This option should be used together with dynamic highlighting of connectors to grandparents via immidiate parents, so information is not lost.",["true","false"],primitives.helpers.controls.ValueType.Boolean,a),new primitives.helpers.controls.DropDownBoxConfig("enableMatrixLayout","false","This option enables natrix layout in family diagram. Nodes having the same set of parents and children are grouped into square shaped matrix in order to keep them visualy together.",
["true","false"],primitives.helpers.controls.ValueType.Boolean,a),new primitives.helpers.controls.DropDownBoxConfig("minimumMatrixSize",null,"Minimum number of nodes needed in order to be formed into matrix layout",[2,3,4,5,6,7,8,9,10],primitives.helpers.controls.ValueType.Number,a),new primitives.helpers.controls.DropDownBoxConfig("maximumColumnsInMatrix",null,"Maximum columns number in matrix nodes layout",[1,2,3,4,5,6,7,8,9,10,20],primitives.helpers.controls.ValueType.Number,a)])]};
primitives.helpers.controls.getAnnotationsOptionsPanels=function(a){return[new primitives.helpers.controls.PanelConfig("On-screen Annotations Specific Options",[new primitives.helpers.controls.RadioBoxConfig("connectorPlacementType",primitives.common.ConnectorPlacementType.Offbeat,"Placement type",primitives.common.ConnectorPlacementType,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.RadioBoxConfig("connectorShapeType",primitives.common.ConnectorShapeType.OneWay,
"Connector shape type",primitives.common.ConnectorShapeType,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.RadioBoxConfig("labelPlacementType",primitives.common.ConnectorLabelPlacementType.Between,"Label Placement type",primitives.common.ConnectorLabelPlacementType,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.DropDownBoxConfig("lineWidth",1,"Line width",[0,1,2,3,4,5,6,7,8,9,10],primitives.helpers.controls.ValueType.Number,a),new primitives.helpers.controls.RadioBoxConfig("lineType",
primitives.common.LineType.Dashed,"Line type",primitives.common.LineType,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.DropDownBoxConfig("color",primitives.common.Colors.Red,"Color",primitives.common.Colors,primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.DropDownBoxConfig("offset",5,"Offset",[-50,-20,-10,-5,0,5,10,20,50],primitives.helpers.controls.ValueType.Number,a),new primitives.helpers.controls.RadioBoxConfig("zOrderType",primitives.common.ZOrderType.Auto,
"Connector Z order type",primitives.common.ZOrderType,primitives.helpers.controls.ValueType.Integer,a)],"AnnotationOptions")]};
primitives.helpers.controls.getCommonOptionsPanels=function(a,c){var b=[];b.push(new primitives.helpers.controls.PanelConfig("Auto Layout Options",[new primitives.helpers.controls.CaptionConfig("Page Fit Mode defines rule of fitting chart into available screen space. Set it to None if you want to disable it.",!1),new primitives.helpers.controls.RadioBoxConfig("pageFitMode",primitives.common.PageFitMode.FitToPage,"Page Fit Mode",{None:0,PageWidth:1,PageHeight:2,FitToPage:3,SelectionOnly:6},primitives.helpers.controls.ValueType.Integer,
a),new primitives.helpers.controls.RadioBoxConfig("orientationType",primitives.common.OrientationType.Top,"Orientation Type",primitives.common.OrientationType,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.RadioBoxConfig("verticalAlignment",primitives.common.VerticalAlignmentType.Middle,"Items Vertical Alignment",primitives.common.VerticalAlignmentType,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.RadioBoxConfig("horizontalAlignment",
primitives.common.HorizontalAlignmentType.Center,"Items Horizontal Alignment",primitives.common.HorizontalAlignmentType,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.RadioBoxConfig("childrenPlacementType",primitives.common.ChildrenPlacementType.Horizontal,"Children placement",primitives.common.ChildrenPlacementType,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.RadioBoxConfig("leavesPlacementType",primitives.common.ChildrenPlacementType.Horizontal,
"Leaves placement defines layout shape for items having no children",primitives.common.ChildrenPlacementType,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.DropDownBoxConfig("maximumColumnsInMatrix",null,"Maximum columns number in matrix children layout",[1,2,3,4,5,6,7,8,9,10,20],primitives.helpers.controls.ValueType.Number,a),new primitives.helpers.controls.RadioBoxConfig("minimalVisibility",primitives.common.Visibility.Dot,"Minimal nodes visibility",primitives.common.Visibility,
primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.RadioBoxConfig("selectionPathMode",primitives.common.SelectionPathMode.FullStack,"Selection Path Mode sets visibility of items between cursor item and root",primitives.common.SelectionPathMode,primitives.helpers.controls.ValueType.Integer,a)]));b.push(new primitives.helpers.controls.PanelConfig("Default Template Options",[new primitives.helpers.controls.RadioBoxConfig("hasButtons",primitives.common.Enabled.Auto,"Show user buttons",
primitives.common.Enabled,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.RadioBoxConfig("hasSelectorCheckbox",primitives.common.Enabled.True,"Show selection check box",primitives.common.Enabled,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.DropDownBoxConfig("selectCheckBoxLabel","Selected","Selection checkbox label",["Selected","Included","Pinned","Any label"],primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.CaptionConfig("Default chart item template tries to select the best matching font color for current title background.",
!1),new primitives.helpers.controls.DropDownBoxConfig("itemTitleFirstFontColor",primitives.common.Colors.White,"Title first font color",primitives.common.Colors,primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.DropDownBoxConfig("itemTitleSecondFontColor",primitives.common.Colors.White,"Title second font color",primitives.common.Colors,primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.DropDownBoxConfig("buttonsPanelSize",28,"Buttons panel size",
[28,56,84],primitives.helpers.controls.ValueType.Number,a),new primitives.helpers.controls.DropDownBoxConfig("checkBoxPanelSize",24,"Checkbox panel size",[24,48,72],primitives.helpers.controls.ValueType.Number,a)]));b.push(new primitives.helpers.controls.PanelConfig("Group Titles",[new primitives.helpers.controls.RadioBoxConfig("groupTitlePlacementType",primitives.common.AdviserPlacementType.Left,"Placement",primitives.common.AdviserPlacementType,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.DropDownBoxConfig("groupTitlePanelSize",
24,"Group title panel width",[24,48,72],primitives.helpers.controls.ValueType.Number,a),new primitives.helpers.controls.RadioBoxConfig("groupTitleOrientation",primitives.text.TextOrientationType.RotateRight,"Orientation",primitives.text.TextOrientationType,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.RadioBoxConfig("groupTitleVerticalAlignment",primitives.common.VerticalAlignmentType.Middle,"Vertical Alignment",primitives.common.VerticalAlignmentType,primitives.helpers.controls.ValueType.Integer,
a),new primitives.helpers.controls.RadioBoxConfig("groupTitleHorizontalAlignment",primitives.common.HorizontalAlignmentType.Center,"Horizontal Alignment",primitives.common.HorizontalAlignmentType,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.DropDownBoxConfig("groupTitleColor",primitives.common.Colors.Black,"Background Color",primitives.common.Colors,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.CaptionConfig("For group title color, see title first and second font colors in default template options.",
!1),new primitives.helpers.controls.DropDownBoxConfig("groupTitleFontSize","12px","Font size","8px 10px 12px 14px 16px 18px 20px".split(" "),primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.DropDownBoxConfig("groupTitleFontWeight","normal","Font Weight",["normal","bold"],primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.DropDownBoxConfig("groupTitleFontStyle","normal","Font Style",["normal","italic"],primitives.helpers.controls.ValueType.String,
a),new primitives.helpers.controls.DropDownBoxConfig("groupTitleFontFamily","Arial","Font Style",["Arial","Verdana","Times New Roman","Serif","Courier"],primitives.helpers.controls.ValueType.String,a)]));c&&b.push(new primitives.helpers.controls.PanelConfig("Minimized Item (Dot, Marker)",[new primitives.helpers.controls.CaptionConfig("These options are defined per item template. So if you need to show individual markers per item, you have to define template for every marker type and assign it to items. Template is some sort of named property bag.",
!1),new primitives.helpers.controls.CaptionConfig("By default marker has color of itemTitleColor property, download demos and check samples source data. If item has no title color set, then be sure that you set border line width and color for markers having no fill, othewise you are not going to see them.",!1),new primitives.helpers.controls.SizeConfig("minimizedItemSize",new primitives.common.Size(4,4),"Marker size",[1,2,3,4,5,6,7,8,9,10,12,14,16,18,20,30,40],[1,2,3,4,5,6,7,8,9,10,12,14,16,18,20,
30,40],primitives.helpers.controls.ValueType.Size,a),new primitives.helpers.controls.DropDownBoxConfig("minimizedItemCornerRadius",null,"Corner Radius",[0,1,2,3,4,5,6,7,8,9,10,20],primitives.helpers.controls.ValueType.Number,a),new primitives.helpers.controls.DropDownBoxConfig("highlightPadding",2,"Highlight border padding around marker",[1,2,3,4,5,6,7,8,9,10],primitives.helpers.controls.ValueType.Thickness,a),new primitives.helpers.controls.RadioBoxConfig("minimizedItemShapeType",primitives.common.ShapeType.None,
"Marker Shape",primitives.common.ShapeType,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.DropDownBoxConfig("minimizedItemLineWidth",1,"Marker border line width",[0,1,2,3,4,5,6,7,8,9,10],primitives.helpers.controls.ValueType.Number,a),new primitives.helpers.controls.RadioBoxConfig("minimizedItemLineType",primitives.common.LineType.Solid,"Marker border line type",primitives.common.LineType,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.CaptionConfig("Following Border and Fill colors properties work only for items having no title color property set. See Parners & Annotations Demo to try them.",
!1),new primitives.helpers.controls.DropDownBoxConfig("minimizedItemBorderColor",null,"Marker border line color",primitives.common.Colors,primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.DropDownBoxConfig("minimizedItemFillColor",null,"Marker fill color",primitives.common.Colors,primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.DropDownBoxConfig("minimizedItemOpacity",1,"Opacity",[0,0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1],primitives.helpers.controls.ValueType.Number,
a)],"DefaultTemplateOptions"));b.push(new primitives.helpers.controls.PanelConfig("Intervals",[new primitives.helpers.controls.CaptionConfig("Vertical Intervals Between Rows",!0),new primitives.helpers.controls.DropDownBoxConfig("normalLevelShift",20,"Normal",[1,2,3,4,5,6,7,8,9,10,12,14,16,18,20,30,40],primitives.helpers.controls.ValueType.Number,a),new primitives.helpers.controls.CaptionConfig("If you enable labels for dots, use the following interval to fit them between levels.",!1),new primitives.helpers.controls.DropDownBoxConfig("dotLevelShift",
20,"Dotted",[1,2,3,4,5,6,7,8,9,10,12,14,16,18,20,30,40,80,160,240,320],primitives.helpers.controls.ValueType.Number,a),new primitives.helpers.controls.DropDownBoxConfig("lineLevelShift",10,"Lined",[1,2,3,4,5,6,7,8,9,10,12,14,16,18,20,30,40,80,160,240,320],primitives.helpers.controls.ValueType.Number,a),new primitives.helpers.controls.CaptionConfig("Horizontal Intervals Between Items in Row",!0),new primitives.helpers.controls.DropDownBoxConfig("normalItemsInterval",10,"Normal",[1,2,3,4,5,6,7,8,9,
10,12,14,16,18,20,30,40],primitives.helpers.controls.ValueType.Number,a),new primitives.helpers.controls.DropDownBoxConfig("dotItemsInterval",2,"Dotted",[1,2,3,4,5,6,7,8,9,10,12,14,16,18,20,30,40],primitives.helpers.controls.ValueType.Number,a),new primitives.helpers.controls.DropDownBoxConfig("lineItemsInterval",2,"Lined",[1,2,3,4,5,6,7,8,9,10,12,14,16,18,20,30,40],primitives.helpers.controls.ValueType.Number,a),new primitives.helpers.controls.DropDownBoxConfig("cousinsIntervalMultiplier",5,"Additional interval multiplier between cousins, it creates extra space between hierarchies",
[1,2,3,4,5,6,7,8,9,10,12,14,16,18,20,30,40],primitives.helpers.controls.ValueType.Number,a)]));b.push(new primitives.helpers.controls.PanelConfig("Connectors",[new primitives.helpers.controls.RadioBoxConfig("arrowsDirection",primitives.common.GroupByType.None,"Arrows Direction",primitives.common.GroupByType,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.RadioBoxConfig("connectorType",primitives.common.ConnectorType.Squared,"Connectors",primitives.common.ConnectorType,
primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.RadioBoxConfig("elbowType",primitives.common.ElbowType.None,"Elbows Type",primitives.common.ElbowType,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.DropDownBoxConfig("bevelSize",4,"Bevel Size",[1,2,3,4,5,6,7,8,9,10],primitives.helpers.controls.ValueType.Number,a),new primitives.helpers.controls.DropDownBoxConfig("elbowDotSize",4,"Elbow dot Size",[1,2,3,4,5,6,7,8,9,10],primitives.helpers.controls.ValueType.Number,
a),new primitives.helpers.controls.RadioBoxConfig("linesType",primitives.common.LineType.Solid,"Line type",primitives.common.LineType,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.DropDownBoxConfig("linesColor",primitives.common.Colors.Silver,"Color",primitives.common.Colors,primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.DropDownBoxConfig("linesWidth",1,"Line width",[1,2,3,4,5,6,7,8,9,10],primitives.helpers.controls.ValueType.Number,
a),new primitives.helpers.controls.DropDownBoxConfig("showExtraArrows","true","Show extra horizontal arrows on top of connectors for easy navigation between parents and children through connector lines",["true","false"],primitives.helpers.controls.ValueType.Boolean,a),new primitives.helpers.controls.DropDownBoxConfig("extraArrowsMinimumSpace",30,"Available minimum space to show horizontal arrow",[0,5,10,20,30,40,50,100,200,1E3],primitives.helpers.controls.ValueType.Number,a)]));b.push(new primitives.helpers.controls.PanelConfig("Labels",
[new primitives.helpers.controls.CaptionConfig("Label property should be defined for every item first, otherwise chart has nothiong to show. Labels are visible only for markers. If you need to add labels to normal size items you have to modify default item template and place text outside item boundaries.",!1),new primitives.helpers.controls.RadioBoxConfig("showLabels",primitives.common.Enabled.Auto,"Show labels",primitives.common.Enabled,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.SizeConfig("labelSize",
new primitives.common.Size(80,24),"Size: Use this property to define labels bounding rectangle. Labels placed relative to markers(dots), so when they overlap in auto show mode one of them would be hidden. Set appropriate intervals between levels of markers in order to fit and make all labels visible.",[80,160,240,320],[8,16,24,32,40,48,56],primitives.helpers.controls.ValueType.Size,a),new primitives.helpers.controls.DropDownBoxConfig("labelOffset",1,"Offset",[0,1,2,3,4,5,10,20,30],primitives.helpers.controls.ValueType.Number,
a),new primitives.helpers.controls.RadioBoxConfig("labelOrientation",primitives.text.TextOrientationType.Horizontal,"Label Orientation",primitives.text.TextOrientationType,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.RadioBoxConfig("labelPlacement",primitives.common.PlacementType.Top,"Label Placement",primitives.common.PlacementType,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.DropDownBoxConfig("labelFontSize","10px","Font size",
"8px 10px 12px 14px 16px 18px 20px".split(" "),primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.DropDownBoxConfig("labelFontFamily","Arial","Font Style",["Arial","Verdana","Times New Roman","Serif","Courier"],primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.DropDownBoxConfig("labelColor",primitives.common.Colors.Black,"Font Color",primitives.common.Colors,primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.DropDownBoxConfig("labelFontWeight",
"normal","Font Weight",["normal","bold"],primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.DropDownBoxConfig("labelFontStyle","normal","Font Style",["normal","italic"],primitives.helpers.controls.ValueType.String,a)]));b.push(new primitives.helpers.controls.PanelConfig("Callout",[new primitives.helpers.controls.CaptionConfig("By default callout displays item content, but it can be redefined with custom callout template.",!1),new primitives.helpers.controls.RadioBoxConfig("calloutMaximumVisibility",
primitives.common.Visibility.Dot,"Maximum node type visibility",{Normal:1,Dot:2,Line:3},primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.DropDownBoxConfig("showCallout","true","This option controls callout visibility for minimized items and it can be ovewritten pre item",["true","false"],primitives.helpers.controls.ValueType.Boolean,a),new primitives.helpers.controls.DropDownBoxConfig("calloutPlacementOffset",100,"Call out placement offset",[10,20,30,40,50,100,200,
300],primitives.helpers.controls.ValueType.Number,a),new primitives.helpers.controls.DropDownBoxConfig("calloutfillColor","#000000","Fill color",primitives.common.Colors,primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.DropDownBoxConfig("calloutBorderColor",null,"Border line color",primitives.common.Colors,primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.DropDownBoxConfig("calloutOffset",4,"Offset",[0,1,2,3,4,5,10,20,30],primitives.helpers.controls.ValueType.Number,
a),new primitives.helpers.controls.DropDownBoxConfig("calloutCornerRadius",4,"Corner Radius",["0%","5%","10%","20%",0,1,2,3,4,5,10,20,30],primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.DropDownBoxConfig("calloutPointerWidth","10%","Pointer Base Width",["0%","5%","10%","20%",0,5,10,20,50],primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.DropDownBoxConfig("calloutLineWidth",1,"Line width",[0,1,2,3,4,5,6,7,8,9,10],primitives.helpers.controls.ValueType.Number,
a),new primitives.helpers.controls.DropDownBoxConfig("calloutOpacity",0.2,"Opacity",[0,0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1],primitives.helpers.controls.ValueType.Number,a)]));b.push(new primitives.helpers.controls.PanelConfig("Interactivity",[new primitives.helpers.controls.CaptionConfig("Use this option to disable mouse highlight on touch devices.",!1),new primitives.helpers.controls.RadioBoxConfig("navigationMode",primitives.common.NavigationMode.Default,"Navigation mode",primitives.common.NavigationMode,
primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.CaptionConfig("This option defines highlight gravity radius, so minimized item gets highlighted when mouse pointer does not overlap marker but it is within gravity radius of its boundaries.",!1),new primitives.helpers.controls.DropDownBoxConfig("highlightGravityRadius",40,"Normal",[0,5,10,20,30,40,50,100,200,1E3],primitives.helpers.controls.ValueType.Number,a),new primitives.helpers.controls.CheckBoxConfig("enablePanning",
!0,"Enable Panning",a)]));b.push(new primitives.helpers.controls.PanelConfig("Rendering",[new primitives.helpers.controls.CaptionConfig("By default widget preferes SVG graphics mode. Use this property to enforce graphics mode programmatically.",!1),new primitives.helpers.controls.RadioBoxConfig("graphicsType",primitives.common.GraphicsType.SVG,"Graphics",primitives.common.GraphicsType,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.CaptionConfig("In order to achive better greacefull degradation of your diagram use item templates of various sizes instead of CSS scale.",
!1),new primitives.helpers.controls.DropDownBoxConfig("scale",1,"CSS Scale",{"50%":0.5,"60%":0.6,"70%":0.7,"80%":0.8,"90%":0.9,"100%":1,"110%":1.1,"120%":1.2,"130%":1.3,"140%":1.4,"150%":1.5,"160%":1.6,"170%":1.7,"180%":1.8,"190%":1.9,"200%":2},primitives.helpers.controls.ValueType.Number,a)]));return b};primitives.orgeditor.TemplateName={Default:null,Contact:"contactTemplate",PlainDescription:"plainDescriptionTemplate",Invisible:"invisibleTemplate"};
primitives.orgeditor.UserTemplate=function(){this.name=""};primitives.orgeditor.UserTemplate.prototype.getTemplate=function(){return""};primitives.orgeditor.UserTemplate.prototype.onRender=function(){};primitives.orgeditor.UserTemplateContact=function(){this.name="contactTemplate"};primitives.orgeditor.UserTemplateContact.prototype=new primitives.orgeditor.UserTemplate;
primitives.orgeditor.UserTemplateContact.prototype.getTemplate=function(){var a=new primitives.orgdiagram.TemplateConfig,c;a.name=this.name;a.itemSize=new primitives.common.Size(180,120);a.minimizedItemSize=new primitives.common.Size(4,4);a.highlightPadding=new primitives.common.Thickness(2,2,2,2);c=jQuery('<div class="bp-item bp-corner-all bt-item-frame"><div name="titleBackground" class="bp-item bp-corner-all bp-title-frame" style="top: 2px; left: 2px; width: 176px; height: 20px;"><div name="title" class="bp-item bp-title" style="top: 3px; left: 6px; width: 168px; height: 18px;"></div></div><div class="bp-item bp-photo-frame" style="top: 26px; left: 2px; width: 50px; height: 60px;"><img name="photo" style="height:60px; width:50px;" /></div><div name="phone" class="bp-item" style="top: 26px; left: 56px; width: 122px; height: 18px; font-size: 12px;"></div><div name="email" class="bp-item" style="top: 44px; left: 56px; width: 122px; height: 18px; font-size: 12px;"></div><div name="description" class="bp-item" style="top: 62px; left: 56px; width: 122px; height: 36px; font-size: 10px;"></div><a name="readmorelabel" class="bp-item bp-readmore" style="top: 102px; left: 4px; width: 172px; height: 16px; font-size: 10px;"></a></div>').css({width:a.itemSize.width+
"px",height:a.itemSize.height+"px"});a.itemTemplate=c.wrap("<div>").parent().html();return a};
primitives.orgeditor.UserTemplateContact.prototype.onRender=function(a,c,b){var a=c.context,d,e,f,g,h;h=c.element.find("[name=readmorelabel]");switch(c.renderingMode){case primitives.common.RenderingMode.Create:h.click(function(a){primitives.common.stopPropagation(a)})}c.element.find("[name=photo]").attr({src:a.image});c.element.find("[name=titleBackground]").css({background:a.itemTitleColor});c.element.find("[name=title]").css({color:primitives.common.highestContrast(a.itemTitleColor,b.itemTitleSecondFontColor,
b.itemTitleFirstFontColor)});e=["title","description","phone","email","readmorelabel"];b=0;for(d=e.length;b<d;b+=1)f=e[b],g=c.element.find("[name="+f+"]"),f=null!=a[f]?a[f]:"",g.text()!==f&&g.text(f);h.css({visibility:!primitives.common.isNullOrEmpty(a.readmorelabel)?"inherit":"hidden"});primitives.common.isNullOrEmpty(a.readmoreurl)?h.removeAttr("href"):h.attr({href:a.readmoreurl})};primitives.orgeditor.UserTemplateDescription=function(){this.name="plainDescriptionTemplate"};
primitives.orgeditor.UserTemplateDescription.prototype=new primitives.orgeditor.UserTemplate;
primitives.orgeditor.UserTemplateDescription.prototype.getTemplate=function(){var a=new primitives.orgdiagram.TemplateConfig,c;a.name=this.name;a.itemSize=new primitives.common.Size(120,100);a.minimizedItemSize=new primitives.common.Size(4,4);a.highlightPadding=new primitives.common.Thickness(2,2,2,2);c=jQuery('<div class="bp-item bp-corner-all bt-item-frame"><div name="titleBackground" class="bp-item bp-corner-all bp-title-frame" style="top: 2px; left: 2px; width: 116px; height: 20px;"><div name="title" class="bp-item bp-title" style="top: 3px; left: 6px; width: 108px; height: 18px;"></div></div><div name="description" class="bp-item" style="top: 26px; left: 4px; width: 112px; height: 56px; font-size: 10px;"></div><a name="readmorelabel" class="bp-item bp-readmore" style="top: 82px; left: 4px; width: 112px; height: 16px; font-size: 10px;"></a></div>').css({width:a.itemSize.width+"px",
height:a.itemSize.height+"px"});a.itemTemplate=c.wrap("<div>").parent().html();return a};
primitives.orgeditor.UserTemplateDescription.prototype.onRender=function(a,c,b){var a=c.context,d,e,f,g,h;h=c.element.find("[name=readmorelabel]");switch(c.renderingMode){case primitives.common.RenderingMode.Create:h.click(function(a){primitives.common.stopPropagation(a)})}c.element.find("[name=titleBackground]").css({background:a.itemTitleColor});c.element.find("[name=title]").css({color:primitives.common.highestContrast(a.itemTitleColor,b.itemTitleSecondFontColor,b.itemTitleFirstFontColor)});e=
["title","description","readmorelabel"];b=0;for(d=e.length;b<d;b+=1)f=e[b],g=c.element.find("[name="+f+"]"),f=null!=a[f]?a[f]:"",g.text()!==f&&g.text(f);h.css({visibility:!primitives.common.isNullOrEmpty(a.readmorelabel)?"inherit":"hidden"});primitives.common.isNullOrEmpty(a.readmoreurl)?h.removeAttr("href"):h.attr({href:a.readmoreurl})};primitives.orgeditor.UserTemplateInvisible=function(){this.name="invisibleTemplate"};primitives.orgeditor.UserTemplateInvisible.prototype=new primitives.orgeditor.UserTemplate;
primitives.orgeditor.UserTemplateInvisible.prototype.getTemplate=function(){var a=new primitives.orgdiagram.TemplateConfig,c;a.name=this.name;a.itemSize=new primitives.common.Size(120,100);a.minimizedItemSize=new primitives.common.Size(4,4);a.highlightPadding=new primitives.common.Thickness(2,2,2,2);c=jQuery('<div class="bp-item bp-corner-all bt-item-frame"><div class="bp-item" style="top: 4px; left: 4px; width: 112px; height: 92px; font-size: 10px;">This item is invisible to user and its children logically belong to its first visible parent.</div></div>').css({width:a.itemSize.width+
"px",height:a.itemSize.height+"px"});a.itemTemplate=c.wrap("<div>").parent().html();return a};primitives.orgeditor.UserTemplateInvisible.prototype.onRender=function(a,c){var b=c.context;c.element.find("[name=title]").text(b.title)};
primitives.orgeditor.Config=function(){this.classPrefix="bporgeditor";this.onSave=null;this.editMode=!0;this.navigationMode=primitives.common.NavigationMode.Default;this.graphicsType=primitives.common.GraphicsType.SVG;this.pageFitMode=primitives.common.PageFitMode.FitToPage;this.verticalAlignment=primitives.common.VerticalAlignmentType.Middle;this.arrowsDirection=primitives.common.GroupByType.None;this.showExtraArrows=!1;this.extraArrowsMinimumSpace=30;this.horizontalAlignment=primitives.common.HorizontalAlignmentType.Center;
this.connectorType=primitives.common.ConnectorType.Angular;this.bevelSize=4;this.elbowType=primitives.common.ElbowType.None;this.elbowDotSize=4;this.items=null;this.highlightGravityRadius=40;this.hasSelectorCheckbox=primitives.common.Enabled.Auto;this.selectCheckBoxLabel="Selected";this.selectionPathMode=primitives.common.SelectionPathMode.FullStack;this.hasButtons=primitives.common.Enabled.Auto;this.minimalVisibility=primitives.common.Visibility.Dot;this.orientationType=primitives.common.OrientationType.Top;
this.defaultTemplateName=null;this.itemTitleFirstFontColor=primitives.common.Colors.White;this.itemTitleSecondFontColor=primitives.common.Colors.Navy;this.linesColor=primitives.common.Colors.Silver;this.linesWidth=1;this.linesType=primitives.common.LineType.Solid;this.showCallout=!0;this.calloutPlacementOffset=100;this.defaultCalloutTemplateName=null;this.calloutfillColor="#000000";this.calloutBorderColor=null;this.calloutCornerRadius=this.calloutOffset=4;this.calloutPointerWidth="10%";this.calloutLineWidth=
1;this.calloutOpacity=0.2;this.childrenPlacementType=primitives.common.ChildrenPlacementType.Horizontal;this.leavesPlacementType=primitives.common.ChildrenPlacementType.Matrix;this.maximumColumnsInMatrix=6;this.buttonsPanelSize=28;this.checkBoxPanelSize=this.groupTitlePanelSize=24;this.groupTitleOrientation=primitives.text.TextOrientationType.RotateRight;this.groupTitleVerticalAlignment=primitives.common.VerticalAlignmentType.Middle;this.groupTitleHorizontalAlignment=primitives.common.HorizontalAlignmentType.Center;
this.groupTitleFontSize="12px";this.groupTitleFontFamily="Arial";this.groupTitleColor=primitives.common.Colors.RoyalBlue;this.groupTitleFontStyle=this.groupTitleFontWeight="normal";this.scale=1;this.normalLevelShift=20;this.lineLevelShift=this.dotLevelShift=10;this.normalItemsInterval=20;this.dotItemsInterval=10;this.cousinsIntervalMultiplier=this.lineItemsInterval=5;this.showLabels=primitives.common.Enabled.Auto;this.labelSize=new primitives.common.Size(10,24);this.labelOffset=1;this.labelOrientation=
primitives.text.TextOrientationType.Horizontal;this.labelPlacement=primitives.common.PlacementType.Top;this.labelFontSize="10px";this.labelFontFamily="Arial";this.labelColor=primitives.common.Colors.Black;this.labelFontStyle=this.labelFontWeight="normal";this.enablePanning=!0};
primitives.orgeditor.Controller=function(){this.widgetEventPrefix="bporgeditor";this.timer=null;this.options=new primitives.orgeditor.Config;this.panelHeight=50;this.selectedItem=this.dlgMessage=this.dlgCodeMirror=this.dlgConfig=this.dlgItemConfig=this.dlgOrgChart=this.orgDiagram=this.formsPlaceholder=null;this.fieldsToClone="navigationMode graphicsType pageFitMode verticalAlignment arrowsDirection showExtraArrows extraArrowsMinimumSpace horizontalAlignment connectorType bevelSize elbowType elbowDotSize items highlightGravityRadius hasSelectorCheckbox selectCheckBoxLabel selectionPathMode hasButtons minimalVisibility orientationType defaultTemplateName itemTitleFirstFontColor itemTitleSecondFontColor linesColor linesWidth linesType showCallout calloutPlacementOffset defaultCalloutTemplateName calloutfillColor calloutBorderColor calloutOffset calloutCornerRadius calloutPointerWidth calloutLineWidth calloutOpacity childrenPlacementType leavesPlacementType maximumColumnsInMatrix buttonsPanelSize groupTitlePanelSize checkBoxPanelSize groupTitleOrientation groupTitleVerticalAlignment groupTitleHorizontalAlignment groupTitleFontSize groupTitleFontFamily groupTitleColor groupTitleFontWeight groupTitleFontStyle scale normalLevelShift dotLevelShift lineLevelShift normalItemsInterval dotItemsInterval lineItemsInterval cousinsIntervalMultiplier showLabels labelSize labelOffset labelOrientation labelPlacement labelFontSize labelFontFamily labelColor labelFontWeight labelFontStyle enablePanning annotations".split(" ");
this.userTemplates={contactTemplate:new primitives.orgeditor.UserTemplateContact,plainDescriptionTemplate:new primitives.orgeditor.UserTemplateDescription,invisibleTemplate:new primitives.orgeditor.UserTemplateInvisible}};primitives.orgeditor.Controller.prototype._create=function(){this.element.addClass("bp-item");this._createLayout();this._updateLayout();this._updateWidgets()};primitives.orgeditor.Controller.prototype.destroy=function(){this._cleanLayout();this.timer=null};
primitives.orgeditor.Controller.prototype._createLayout=function(){var a;a='<div name="forms-placeholder" class="bp-item" style="overflow:hidden; display:none;"><div name="dialog-confirm" class="dialog-form" title="Delete?"><p><span class="ui-icon ui-icon-alert" style="float: left; margin: 0 7px 20px 0;"></span>This item and all its sub-items will be deleted. Are you sure?</p></div><div name="dialog-message" title="Warning"><p><span class="ui-icon ui-icon-circle-check" style="float: left; margin: 0 7px 50px 0;"></span>You cannot remove or move root item in organizational chart.</p></div><div name="config-form"></div><div name="codemirror-form" style="margin:0; padding:0;"></div><div name="itemconfig-form"></div><div name="orgchart-form"></div></div><div name="orgchart-widget" class="bp-item" style="overflow:hidden; padding: 0px; margin: 0px; border: 0px;"></div>';
a+='<div name="orgchart-panel" style="padding: 0px; margin:10px;">';a+='<div style="width:120px;" name="options-button">Options</div><div style="width:120px;" name="json-button">JSON</div>';a+='<div style="float: right;"><label for="search100">Search:&nbsp;</label><input id="search100" name="search" style="padding: 0.4em; height: 18px; margin-right: 20px;" /></div>';a+="</div>";a=jQuery(a).addClass(this.widgetEventPrefix);this.element.append(a);this._createWidgets(this.element)};
primitives.orgeditor.Controller.prototype._createWidgets=function(){var a=new primitives.common.Rect(0,this.panelHeight,this.element.innerWidth(),this.element.innerHeight()-this.panelHeight),c=new primitives.common.Rect(0,0,a.width,this.panelHeight),b=this;this.formsPlaceholder=this.element.find("[name=forms-placeholder]");this.formsPlaceholder.css(a.getCSS());this.dlgOrgChart=this.element.find("[name=orgchart-form]").bpDlgOrgDiagram();this.dlgConfig=this.element.find("[name=config-form]").bpDlgConfig();
null!=window.CodeMirror&&(this.dlgCodeMirror=this.element.find("[name=codemirror-form]").bpDlgCodeMirror());this.dlgItemConfig=this.element.find("[name=itemconfig-form]").bpDlgItemConfig();this.dlgMessage=this.element.find("[name=dialog-message]");this.dlgConfirm=this.element.find("[name=dialog-confirm]");this.orgDiagram=this.element.find("[name=orgchart-widget]");this.orgDiagram.css(a.getCSS());this.orgDiagram.orgDiagram();this.buttonsPanel=this.element.find("[name=orgchart-panel]");this.buttonsPanel.css(c.getCSS());
this.element.find("[name=options-button]").button().click(function(){b._onOptionsButtonClick()});this.element.find("[name=json-button]").button().click(function(){b._onJsonButtonClick()});this.element.find("[name=search]").on("change keyup",function(){var a=jQuery(this);a.data("last")!==a.val()&&(a.data("last",a.val()),b._onChange(a.val()))})};
primitives.orgeditor.Controller.prototype._updateWidgets=function(){this.orgDiagram.orgDiagram("option",this._getOrgDiagramConfig());this.orgDiagram.orgDiagram("update");this.element.find("[name=search]").autocomplete({source:this._getTitles(this.options.items)})};primitives.orgeditor.Controller.prototype._getTitles=function(a){var c,b,d,e=[];c=0;for(b=a.length;c<b;c+=1)d=a[c],!0==d.isVisible&&!primitives.common.isNullOrEmpty(d.title)&&e.push(d.title);return e};
primitives.orgeditor.Controller.prototype._onChange=function(){var a,c,b,d=this.options.items,e=null,f=this,g;null==f.timer&&(f.timer=window.setTimeout(function(){g=f.buttonsPanel.find("[name=search]").val();a=0;for(c=d.length;a<c;a+=1)if(b=d[a],!0==b.isVisible&&b.title==g){e=b.id;break}else 0<=b.title.indexOf(g)&&(e=b.id);null!=e&&(f.orgDiagram.orgDiagram("option",{cursorItem:e}),f.orgDiagram.orgDiagram("update",primitives.common.UpdateMode.Refresh));window.clearTimeout(f.timer);f.timer=null},300))};
primitives.orgeditor.Controller.prototype._onOptionsButtonClick=function(){var a=this,c,b,d,e;a.dlgConfig.bpDlgConfig("option",{cancel:function(){},update:function(){e={};c=0;for(b=a.fieldsToClone.length;c<b;c+=1)d=a.fieldsToClone[c],e[d]=a.options[d];a.orgDiagram.orgDiagram("option",e);a.orgDiagram.orgDiagram("update");a._trigger("onSave")}});a.dlgConfig.bpDlgConfig("open",a.options)};
primitives.orgeditor.Controller.prototype._onJsonButtonClick=function(){var a=this,c,b,d,e;if(null!=this.dlgCodeMirror){a.dlgCodeMirror.bpDlgCodeMirror("option",{cancel:function(){},update:function(f,g){e={};c=0;for(b=a.fieldsToClone.length;c<b;c+=1)d=a.fieldsToClone[c],a.options[d]=g[d],e[d]=g[d];a._updateItemConfigs(e.items);e.cursorItem=null!=e.items[0]?e.items[0].id:null;a.orgDiagram.orgDiagram("option",e);a.orgDiagram.orgDiagram("update");a._trigger("onSave")}});e={};c=0;for(b=a.fieldsToClone.length;c<
b;c+=1)d=a.fieldsToClone[c],e[d]=a.options[d];a.dlgCodeMirror.bpDlgCodeMirror("open",JSON.stringify(e,void 0,2))}else alert("In order to enable this function you have to download latest version of Basic Primitives Joomla modules.")};primitives.orgeditor.Controller.prototype._cleanLayout=function(){this.element.find("."+this.widgetEventPrefix).remove()};
primitives.orgeditor.Controller.prototype._updateItemConfigs=function(a){var c,b,d;c=0;for(b=a.length;c<b;c+=1)d=a[c],d.isVisible=!0,"invisibleTemplate"===d.templateName&&(d.isVisible=this.options.editMode)};
primitives.orgeditor.Controller.prototype._updateLayout=function(){var a=new primitives.common.Rect(0,this.panelHeight,this.element.innerWidth(),this.element.innerHeight()-this.panelHeight),c=new primitives.common.Rect(0,0,a.width,this.panelHeight),b=this.options.editMode?"inherit":"hidden";this.formsPlaceholder.css(a.getCSS());this.orgDiagram.css(a.getCSS());this.buttonsPanel.css(c.getCSS());this.buttonsPanel.find("[name=options-button]").css({visibility:b});this.buttonsPanel.find("[name=json-button]").css({visibility:b})};
primitives.orgeditor.Controller.prototype.update=function(){this._updateLayout();this._updateWidgets()};
primitives.orgeditor.Controller.prototype._getOrgDiagramConfig=function(){var a=this,c=[],b,d,e,f;for(b in this.userTemplates)this.userTemplates.hasOwnProperty(b)&&c.push(this.userTemplates[b].getTemplate());f=new primitives.orgdiagram.Config;b=0;for(d=a.fieldsToClone.length;b<d;b+=1)e=a.fieldsToClone[b],f[e]=a.options[e];this._updateItemConfigs(a.options.items);f.cursorItem=null!=a.options.items[0]?a.options.items[0].id:null;f.hasButtons=primitives.common.Enabled.False;f.hasSelectorCheckbox=primitives.common.Enabled.False;
f.templates=c;f.onItemRender=function(b,c){a.userTemplates[c.templateName].onRender(b,c,a.options)};f.onMouseClick=function(b,c){a._onMouseClick(b,c)};this.options.editMode&&(f.hasButtons=primitives.common.Enabled.Auto,f.hasSelectorCheckbox=primitives.common.Enabled.True,f.buttons=[new primitives.orgdiagram.ButtonConfig("properties","ui-icon-person","Edit"),new primitives.orgdiagram.ButtonConfig("delete","ui-icon-trash","Delete"),new primitives.orgdiagram.ButtonConfig("add","ui-icon-plus","Add"),
new primitives.orgdiagram.ButtonConfig("move","ui-icon-arrow-4","Move")],f.onButtonClick=function(b,c){a._onButtonClick(b,c)});return f};primitives.orgeditor.Controller.prototype._onMouseClick=function(a,c){if(!this.options.editMode){var b=this.orgDiagram.orgDiagram("option","cursorItem");null!=c.context&&(b===c.context.id&&!primitives.common.isNullOrEmpty(b.readmoreurl))&&(window.location.href=b.readmoreurl)}};
primitives.orgeditor.Controller.prototype._onButtonClick=function(a,c){var b=this,d,e,f,g,h,i,j;switch(c.name){case "delete":null===c.parentItem?b.dlgMessage.dialog({modal:!0,buttons:{Ok:function(){jQuery(this).dialog("close")}}}):b.dlgConfirm.dialog({resizable:!1,height:240,modal:!0,buttons:{Delete:function(){j=b._getSubItemsForParent(c.context);j[c.context.id]=!0;i=[];e=0;for(f=b.options.items.length;e<f;e+=1)h=b.options.items[e],j.hasOwnProperty(h.id)||i.push(h);b.options.items=i;b.orgDiagram.orgDiagram("option",
{items:b.options.items,cursorItem:c.context.parent});b.orgDiagram.orgDiagram("update",primitives.common.UpdateMode.Refresh);jQuery(this).dialog("close");b._trigger("onSave")},Cancel:function(){jQuery(this).dialog("close")}}});break;case "properties":b.dlgItemConfig.bpDlgItemConfig("option",{cancel:function(){},update:function(){var a=b.dlgItemConfig.bpDlgItemConfig("option","children"),c,d={},f;e=0;for(c=a.length;e<c;e+=1)f=a[e],d[f.id]=!0;i=[];e=0;for(c=b.options.items.length;e<c;e+=1)f=b.options.items[e],
d.hasOwnProperty(f.id)||i.push(f);b.options.items=i.concat(a);b.orgDiagram.orgDiagram("option",{items:b.options.items});b.orgDiagram.orgDiagram("update",primitives.common.UpdateMode.Refresh);b._trigger("onSave")},itemConfig:c.context,children:b._getChildrenForParent(c.context)});b.dlgItemConfig.bpDlgItemConfig("open");break;case "add":b.selectedItem=c.context;b.dlgItemConfig.bpDlgItemConfig("option",{cancel:function(){},update:function(){var a=b.dlgItemConfig.bpDlgItemConfig("option","itemConfig");
a.id=b._getMaximumId()+1;a.parent=b.selectedItem.id;b.options.items.push(a);b.orgDiagram.orgDiagram("option",{items:b.options.items,cursorItem:a.id});b.orgDiagram.orgDiagram("update",primitives.common.UpdateMode.Refresh);b._trigger("onSave")},itemConfig:null,children:[]});b.dlgItemConfig.bpDlgItemConfig("open");break;case "move":if(null===c.parentItem)b.dlgMessage.dialog({modal:!0,buttons:{Ok:function(){jQuery(this).dialog("close")}}});else{b.selectedItem=c.context;b.dlgOrgChart.bpDlgOrgDiagram("option",
{cancel:function(){},update:function(a,d){c.context.parent=d;b.orgDiagram.orgDiagram("update",primitives.common.UpdateMode.Refresh);b._trigger("onSave")}});d=new primitives.orgdiagram.Config;e=0;for(f=b.fieldsToClone.length;e<f;e+=1)g=b.fieldsToClone[e],d[g]=b.options[g];d.hasButtons=primitives.common.Enabled.False;d.hasSelectorCheckbox=primitives.common.Enabled.False;d.items=b.options.items;d.cursorItem=b.orgDiagram.orgDiagram("option","cursorItem");b.dlgOrgChart.bpDlgOrgDiagram("open",d,c.context)}}};
primitives.orgeditor.Controller.prototype._setOption=function(a,c){jQuery.Widget.prototype._setOption.apply(this,arguments)};primitives.orgeditor.Controller.prototype._getMaximumId=function(){var a=0,c,b,d;c=0;for(b=this.options.items.length;c<b;c+=1)d=this.options.items[c],a=Math.max(a,d.id);return a};primitives.orgeditor.Controller.prototype._getChildrenForParent=function(a){var c=[],b,d,e;b=0;for(d=this.options.items.length;b<d;b+=1)e=this.options.items[b],e.parent==a.id&&c.push(e);return c};
primitives.orgeditor.Controller.prototype._getSubItemsForParent=function(a){var c={},b,d,e,f;b=0;for(d=this.options.items.length;b<d;b+=1)e=this.options.items[b],null==c[e.parent]&&(c[e.parent]=[]),c[e.parent].push(e);a=c[a.id];d={};if(null!=a)for(;0<a.length;){f=[];for(b=0;b<a.length;b+=1)e=a[b],d[e.id]=e,null!=c[e.id]&&(f=f.concat(c[e.id]));a=f}return d};(function(a){a.widget("ui.bpOrgEditor",new primitives.orgeditor.Controller)})(jQuery);
primitives.orgeditor.DlgCodeMirrorOptions=function(){this.update=this.cancel=null};primitives.orgeditor.DlgCodeMirror=function(){this.widgetEventPrefix="bpdlgjson";this.options=new primitives.orgeditor.DlgCodeMirrorOptions;this.editor=this.content=this.placeholder=null};primitives.orgeditor.DlgCodeMirror.prototype._create=function(){this._createLayout()};primitives.orgeditor.DlgCodeMirror.prototype.destroy=function(){this._cleanLayout()};
primitives.orgeditor.DlgCodeMirror.prototype._createLayout=function(){this.placeholder=jQuery('<div style="overflow: hidden; padding:0; margin:0; border: 0px;"><form><textarea name="content"></textarea></form></div>').addClass(this.widgetEventPrefix);this.element.append(this.placeholder);this.element.addClass("dialog-form");this.content=this.element.find("[name=content]")};
primitives.orgeditor.DlgCodeMirror.prototype._updateLayout=function(){var a=new primitives.common.Rect(0,0,this.element.outerWidth(),this.element.outerHeight()),c=this.element.find(".CodeMirror");this.placeholder.css(a.getCSS());c.css(a.getCSS());this.editor.setSize(a.width+"px",a.height+"px")};primitives.orgeditor.DlgCodeMirror.prototype._cleanLayout=function(){this.element.empty();this.element.removeClass("dialog-form")};
primitives.orgeditor.DlgCodeMirror.prototype.open=function(a){var c=this;this.content.val(a);this.editor=CodeMirror.fromTextArea(this.content[0],{lineNumbers:!0,matchBrackets:!0});this.element.dialog({autoOpen:!1,minWidth:640,minHeight:480,modal:!0,title:"Organizational Chart Data",buttons:{Save:function(){a=JSON.parse(c.editor.getValue());jQuery(this).dialog("close");c._trigger("update",null,a)},Cancel:function(){jQuery(this).dialog("close");c._trigger("cancel",null)}},resizeStop:function(){c._updateLayout()},
close:function(){c.editor.toTextArea();c._trigger("cancel",null)},open:function(){c._updateLayout()}}).dialog("open")};primitives.orgeditor.DlgCodeMirror.prototype._setOption=function(a,c){jQuery.Widget.prototype._setOption.apply(this,arguments)};(function(a){a.widget("ui.bpDlgCodeMirror",new primitives.orgeditor.DlgCodeMirror)})(jQuery);primitives.orgeditor.DlgConfigOptions=function(){this.update=this.cancel=null};
primitives.orgeditor.DlgConfig=function(){this.widgetEventPrefix="bpdlgconfig";this.options=new primitives.orgeditor.DlgConfigOptions;this.tips=this.content=null};primitives.orgeditor.DlgConfig.prototype._create=function(){this._createLayout()};primitives.orgeditor.DlgConfig.prototype.destroy=function(){this._cleanLayout()};
primitives.orgeditor.DlgConfig.prototype._createLayout=function(){var a=jQuery("<form></form>");this.content=jQuery("<fieldset></fieldset>");a.append(this.content);this.element.append(a);this.element.addClass("dialog-form")};primitives.orgeditor.DlgConfig.prototype._cleanLayout=function(){this.element.empty();this.element.removeClass("dialog-form")};
primitives.orgeditor.DlgConfig.prototype.open=function(a){var c=primitives.helpers.controls.getOrgEditorOptionsRender([new primitives.helpers.controls.PanelConfig("Editor Specific Options",[new primitives.helpers.controls.RadioBoxConfig("defaultTemplateName",null,"Default item template",{Default:"Default",Contact:"contactTemplate",PlainDescription:"plainDescriptionTemplate"},primitives.helpers.controls.ValueType.String,function(){}),new primitives.helpers.controls.RadioBoxConfig("defaultCalloutTemplateName",
null,"Default callout template",{Default:"Default",Contact:"contactTemplate",PlainDescription:"plainDescriptionTemplate"},primitives.helpers.controls.ValueType.String,function(){})])],a),b=this;b.content.empty();c.render(this.content);this.element.dialog({autoOpen:!1,height:600,width:800,modal:!0,title:"Chart options",buttons:{Save:function(){b._updateConfig(a,c);jQuery(this).dialog("close");b._trigger("update",null,a)},Cancel:function(){jQuery(this).dialog("close");b._trigger("cancel",null,a)}},
close:function(){b._trigger("cancel",null,a)}}).dialog("open")};primitives.orgeditor.DlgConfig.prototype._updateConfig=function(a,c){var b=c.getValues(),d;for(d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};primitives.orgeditor.DlgConfig.prototype._setOption=function(a,c){jQuery.Widget.prototype._setOption.apply(this,arguments)};(function(a){a.widget("ui.bpDlgConfig",new primitives.orgeditor.DlgConfig)})(jQuery);
primitives.orgeditor.DlgItemConfigOptions=function(){this.itemConfig=this.update=this.cancel=null;this.children=[]};primitives.orgeditor.DlgItemConfig=function(){this.widgetEventPrefix="bpdlgitemconfig";this.options=new primitives.orgeditor.DlgItemConfigOptions;this.tips=this.content=this.sortableList=null};primitives.orgeditor.DlgItemConfig.prototype._create=function(){this._createLayout()};primitives.orgeditor.DlgItemConfig.prototype.destroy=function(){this._cleanLayout()};
primitives.orgeditor.DlgItemConfig.prototype._createLayout=function(){var a;a="<ul>"+('\t<li><a href="#'+this.widgetEventPrefix+'options">Options</a></li>');a+='\t<li><a href="#'+this.widgetEventPrefix+'order">Children order</a></li>';a+="</ul>";a+='<div id="'+this.widgetEventPrefix+'options">';a+='<p class="validateTips">All form fields are required.</p>';a+='<form><fieldset name="itemConfigOptions"></fieldset></form>';a+="</div>";a+='<div id="'+this.widgetEventPrefix+'order">';a+='<ul name="sortable" class="sortable"></ul>';
a+="</div>";a=jQuery(a).addClass(this.widgetEventPrefix);this.element.append(a);this.element.addClass("dialog-form");this._createWidgets()};primitives.orgeditor.DlgItemConfig.prototype._createWidgets=function(){this.element.tabs();this.sortableList=this.element.find("[name=sortable]");this.sortableList.sortable();this.sortableList.disableSelection();this.content=this.element.find("[name=itemConfigOptions]");this.tips=this.element.find(".validateTips")};
primitives.orgeditor.DlgItemConfig.prototype._cleanLayout=function(){this.element.empty();this.element.removeClass("dialog-form")};
primitives.orgeditor.DlgItemConfig.prototype.open=function(){this.options.itemConfig=null!=this.options.itemConfig?this.options.itemConfig:new primitives.orgdiagram.ItemConfig;var a=function(){},c=new primitives.helpers.controls.Render([new primitives.helpers.controls.PanelConfig("Item Options",[new primitives.helpers.controls.TextBoxConfig("title",null,"Title",primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.TextBoxConfig("description",null,"Description",primitives.helpers.controls.ValueType.String,
a),new primitives.helpers.controls.TextBoxConfig("phone",null,"Phone",primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.TextBoxConfig("email",null,"E-mail",primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.TextBoxConfig("groupTitle",null,"Group Title",primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.TextBoxConfig("image",null,"Photo",primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.TextBoxConfig("readmorelabel",
null,"Read More Label",primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.TextBoxConfig("readmoreurl",null,"Read More Url",primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.TextBoxConfig("label",null,"Label",primitives.helpers.controls.ValueType.String,a)]),new primitives.helpers.controls.PanelConfig("Item template",[new primitives.helpers.controls.RadioBoxConfig("templateName",null,"Item template",{Default:null,Contact:"contactTemplate",
PlainDescription:"plainDescriptionTemplate"},primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.RadioBoxConfig("calloutTemplateName",null,"Callout template",{Default:null,Contact:"contactTemplate",PlainDescription:"plainDescriptionTemplate"},primitives.helpers.controls.ValueType.String,a),new primitives.helpers.controls.DropDownBoxConfig("itemTitleColor",primitives.common.Colors.Red,"Title Color",primitives.common.Colors,primitives.helpers.controls.ValueType.String,a),
new primitives.helpers.controls.DropDownBoxConfig("groupTitleColor",primitives.common.Colors.Red,"Group Title Color",primitives.common.Colors,primitives.helpers.controls.ValueType.String,a)]),new primitives.helpers.controls.PanelConfig("Item Placement",[new primitives.helpers.controls.RadioBoxConfig("itemType",null,"Item type",{Regular:0,Assistant:1,Adviser:2,SubAssistant:4,SubAdviser:5,GeneralPartner:6,LimitedPartner:7,AdviserPartner:8},primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.RadioBoxConfig("adviserPlacementType",
null,"Adviser Placement",primitives.common.AdviserPlacementType,primitives.helpers.controls.ValueType.Integer,a)]),new primitives.helpers.controls.PanelConfig("Marker Label Options",[new primitives.helpers.controls.RadioBoxConfig("showLabel",null,"Show Label",primitives.common.Enabled,primitives.helpers.controls.ValueType.Integer,a),new primitives.helpers.controls.RadioBoxConfig("labelOrientation",null,"Label orientation",primitives.text.TextOrientationType,primitives.helpers.controls.ValueType.Integer,
a),new primitives.helpers.controls.RadioBoxConfig("labelPlacement",null,"Label placement",primitives.common.PlacementType,primitives.helpers.controls.ValueType.Integer,a)]),new primitives.helpers.controls.PanelConfig("Children Layout",[new primitives.helpers.controls.RadioBoxConfig("childrenPlacementType",null,"Children Placement",primitives.common.ChildrenPlacementType,primitives.helpers.controls.ValueType.Integer,a)])],this.options.itemConfig),b=this;b.content.empty();c.render(this.content);this._updateSortedList(this.options.children);
this.element.dialog({autoOpen:!1,height:600,width:800,modal:!0,title:"Item options",buttons:{Save:function(){var a=!0,e;for(e in b.textFields)b.textFields.hasOwnProperty(e)&&b[e].removeClass("ui-state-error");if(a=(a=a&&b._checkLength(b.tips,b.element.find("[name=title]"),"Title",1,80))&&b._checkLength(b.tips,b.element.find("[name=description]"),"Description",0,400))b._updateConfig(b.options.itemConfig,c),b._updateChildren(),jQuery(this).dialog("close"),b._trigger("update",null)},Cancel:function(){jQuery(this).dialog("close");
b._trigger("cancel",null)}},close:function(){for(var a in b.textFields)b.textFields.hasOwnProperty(a)&&b[a].val("").removeClass("ui-state-error");b._trigger("cancel",null)}}).dialog("open")};primitives.orgeditor.DlgItemConfig.prototype._updateTips=function(a,c){a.text(c).addClass("ui-state-highlight")};
primitives.orgeditor.DlgItemConfig.prototype._checkLength=function(a,c,b,d,e){var f=!0;if(c.val().length>e||c.val().length<d)c.addClass("ui-state-error"),this._updateTips(a,"Length of "+b+" must be between "+d+" and "+e+"."),f=!1;return f};
primitives.orgeditor.DlgItemConfig.prototype._updateSortedList=function(a){var c,b,d;this.sortableList.empty();c=0;for(b=a.length;c<b;c+=1)d=a[c],this.sortableList.append(jQuery('<li id="'+c+'" class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>'+d.title+"</li>"))};primitives.orgeditor.DlgItemConfig.prototype._updateConfig=function(a,c){var b=c.getValues(),d;for(d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};
primitives.orgeditor.DlgItemConfig.prototype._updateChildren=function(){var a,c,b,d;b=this.sortableList.sortable("toArray");if(0<b.length){d=[];a=0;for(c=b.length;a<c;a+=1)d.push(this.options.children[parseInt(b[a],10)]);this.options.children.length=0;this.options.children=d}};primitives.orgeditor.DlgItemConfig.prototype._setOption=function(a,c){jQuery.Widget.prototype._setOption.apply(this,arguments)};(function(a){a.widget("ui.bpDlgItemConfig",new primitives.orgeditor.DlgItemConfig)})(jQuery);
primitives.orgeditor.DlgOrgDiagramOptions=function(){this.update=this.cancel=null};primitives.orgeditor.DlgOrgDiagram=function(){this.widgetEventPrefix="bpdlgorgdiagram";this.options=new primitives.orgeditor.DlgOrgDiagramOptions;this._items={};this.orgdiagram=null};primitives.orgeditor.DlgOrgDiagram.prototype._create=function(){this._createLayout()};primitives.orgeditor.DlgOrgDiagram.prototype.destroy=function(){this._cleanLayout()};
primitives.orgeditor.DlgOrgDiagram.prototype._createLayout=function(){var a;a=jQuery('<div class="bp-item" name="dlgorgdiagram" style="overflow: hidden; padding: 0px; margin: 0px; border: 0px;"></div>').addClass(this.widgetEventPrefix);this.element.append(a);this.element.css({overflow:"hidden"});this.element.addClass("dialog-form");this._createWidgets(this.element)};primitives.orgeditor.DlgOrgDiagram.prototype._createWidgets=function(){this.orgdiagram=this.element.find("[name=dlgorgdiagram]");this.orgdiagram.orgDiagram()};
primitives.orgeditor.DlgOrgDiagram.prototype._updateWidgets=function(a){var c,b,d;this._updateLayout();c=0;for(b=a.items.length;c<b;c+=1)d=a.items[c],this._items[d.id]=d;this.orgdiagram.orgDiagram("option",a);this.orgdiagram.orgDiagram("update")};primitives.orgeditor.DlgOrgDiagram.prototype._updateLayout=function(){var a=new primitives.common.Rect(0,0,this.element.outerWidth(),this.element.outerHeight());this.orgdiagram.css(a.getCSS())};
primitives.orgeditor.DlgOrgDiagram.prototype._cleanLayout=function(){this.element.empty();this.element.removeClass("dialog-form")};
primitives.orgeditor.DlgOrgDiagram.prototype.open=function(a,c){var b=jQuery([]),d=null,e=this,a=void 0!==a?a:new primitives.orgdiagram.Config;this.element.dialog({autoOpen:!1,minWidth:640,minHeight:480,modal:!0,title:"Select new parent",buttons:{Select:function(){var a=!0;b.removeClass("ui-state-error");d=e.orgdiagram.orgDiagram("option","cursorItem");if(a=!e._isParentOf(c,d))jQuery(this).dialog("close"),e._trigger("update",null,d)},Cancel:function(){jQuery(this).dialog("close");e._trigger("cancel")}},
close:function(){b.val("").removeClass("ui-state-error");e._trigger("cancel")},resizeStop:function(){e._updateLayout();e.orgdiagram.orgDiagram("update",primitives.common.UpdateMode.Refresh)},open:function(){e._updateWidgets(a)}}).dialog("open")};primitives.orgeditor.DlgOrgDiagram.prototype._isParentOf=function(a,c){var b=!1;if(a.id==c.id)b=!0;else for(;null!=c.parent;)if(c=this._items[c.parent],c.id==a.id){b=!0;break}return b};
primitives.orgeditor.DlgOrgDiagram.prototype._setOption=function(a,c){jQuery.Widget.prototype._setOption.apply(this,arguments)};(function(a){a.widget("ui.bpDlgOrgDiagram",new primitives.orgeditor.DlgOrgDiagram)})(jQuery);
