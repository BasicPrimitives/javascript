/*
 jQuery Widgets for Basic Primitives Diagrams v5.4.15
 Copyright (c) 2013 - 2020 Basic Primitives Inc

 Non-commercial - Free
 http://creativecommons.org/licenses/by-nc/3.0/

 Commercial and government licenses:
 http://www.basicprimitives.com/license.pdf

*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,c,b){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var g=a[e];if(c.call(b,g,e,a))return{i:e,v:g}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){a=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var c=0;c<a.length;++c){var b=a[c];if(b&&b.Math==Math)return b}return globalThis};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");
primitives.common.jQueryButtonsTemplate=function(a){var c=function(){var a=jQuery("<ul></ul>");a.css({position:"absolute"}).addClass("ui-widget ui-helper-clearfix");return a.wrap("<div>").parent().html()}(),b=primitives.common.hashCode(c);return{template:function(){return c},getHashCode:function(){return b},render:function(a,b){a=jQuery(b.element);var c=0,d=b.buttons,e;switch(b.renderingMode){case primitives.common.RenderingMode.Create:for(e=0;e<d.length;e+=1){b=d[e];var f=jQuery('<li data-buttonname="'+
b.name+'"></li>').css({position:"absolute",top:c+"px",left:"0px",width:b.size.width+"px",height:b.size.height+"px",padding:"3px"}).addClass("orgdiagrambutton");a.append(f);var k={icons:{primary:b.icon},label:b.label};""!=b.text&&(k.text=b.text);primitives.common.isNullOrEmpty(b.tooltip)||f.attr("title",b.tooltip);f.button(k);c+=10+b.size.height}}}}};
primitives.orgdiagram.Widget=function(a,c,b,d){this.widgetEventPrefix="orgdiagram";this.options=new a;this.control=null;this.taskManagerFactory=c;this.eventArgsFactory=b;this.templates=d};primitives.orgdiagram.Widget.prototype._create=function(){this.element.addClass("ui-widget");this.control=primitives.orgdiagram.BaseControl(this.element[0],this._readOptions(this.options),this.taskManagerFactory,this.eventArgsFactory,this.templates)};primitives.orgdiagram.Widget.prototype.destroy=function(){this.control.destroy()};
primitives.orgdiagram.Widget.prototype.update=function(a,c){this.control.update(a,c)};primitives.orgdiagram.Widget.prototype._setOption=function(a,c){jQuery.Widget.prototype._setOption.apply(this,arguments);switch(a){case "disabled":var b=jQuery([]);c?(b.filter(".ui-state-focus").blur(),b.removeClass("ui-state-hover"),b.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(b.propAttr("disabled",!1),this.element.removeClass("ui-disabled"))}this.control.setOptions(this._readOptions(this.options))};
primitives.orgdiagram.Widget.prototype._readOptions=function(a){var c={},b=this,d;for(d in a)if(a.hasOwnProperty(d))switch(d){case "onHighlightChanged":case "onCursorChanged":case "onSelectionChanging":case "onButtonClick":case "onMouseClick":case "onMouseDblClick":c[d]=function(a){return function(c,d){b._trigger(a,c,d)}}(d);break;case "onItemRender":case "onCursorRender":case "onHighlightRender":c[d]=function(a){return function(c,d){d.element=jQuery(d.element);b._trigger(a,c,d)}}(d);break;case "onHighlightChanging":c[d]=
function(a,c){var d=b.control.getOptions();b.options.highlightItem=d.highlightItem;b._trigger("onHighlightChanging",a,c)};break;case "onCursorChanging":c[d]=function(a,c){var d=b.control.getOptions();b.options.cursorItem=d.cursorItem;b._trigger("onCursorChanging",a,c)};break;case "onSelectionChanged":c[d]=function(a,c){var d=b.control.getOptions();b.options.selectedItems=d.selectedItems;b._trigger("onSelectionChanged",a,c)};break;default:c[d]=a[d]}return c};
"undefined"!=typeof jQuery&&function(a){a.widget("ui.orgDiagram",new primitives.orgdiagram.Widget(primitives.orgdiagram.Config,primitives.orgdiagram.TaskManagerFactory,primitives.orgdiagram.EventArgsFactory,{AnnotationLabelTemplate:primitives.common.AnnotationLabelTemplate,ButtonsTemplate:primitives.common.jQueryButtonsTemplate,CheckBoxTemplate:primitives.common.CheckBoxTemplate,CursorTemplate:primitives.common.CursorTemplate,DotHighlightTemplate:primitives.common.DotHighlightTemplate,GroupTitleTemplate:primitives.common.GroupTitleTemplate,
HighlightTemplate:primitives.common.HighlightTemplate,ItemTemplate:primitives.common.ItemTemplate,UserTemplate:primitives.common.UserTemplate,LabelAnnotationTemplate:primitives.common.LabelAnnotationTemplate}))}(jQuery);
primitives.callout.Config=function(){this.classPrefix="bpcallout";this.graphicsType=primitives.common.GraphicsType.Canvas;this.pointerPlacement=primitives.common.PlacementType.Auto;this.snapPoint=this.position=null;this.cornerRadius="10%";this.offset=0;this.lineWidth=this.opacity=1;this.lineType=primitives.common.LineType.Solid;this.pointerWidth="10%";this.borderColor=primitives.common.Colors.Black;this.fillColor=primitives.common.Colors.LightGray};
primitives.callout.Controller=function(){this.widgetEventPrefix="bpcallout";this.options=new primitives.callout.Config;this.m_shape=this.m_graphics=this.m_panelSize=this.m_placeholder=null};primitives.callout.Controller.prototype._create=function(){this.element.addClass("ui-widget");this._createLayout();this._redraw()};primitives.callout.Controller.prototype.destroy=function(){this._cleanLayout()};
primitives.callout.Controller.prototype._createLayout=function(){this.m_panelSize=new primitives.common.Rect(0,0,this.element.outerWidth(),this.element.outerHeight());this.m_placeholder=jQuery("<div></div>");this.m_placeholder.css({position:"relative",overflow:"hidden",top:"0px",left:"0px",padding:"0px",margin:"0px"});this.m_placeholder.css(this.m_panelSize.getCSS());this.m_placeholder.addClass("placeholder");this.m_placeholder.addClass(this.widgetEventPrefix);this.element.append(this.m_placeholder);
this.m_graphics=primitives.common.createGraphics(this.options.graphicsType,this.element[0]);this.m_shape=new primitives.common.Callout(this.m_graphics)};primitives.callout.Controller.prototype._cleanLayout=function(){null!==this.m_graphics&&this.m_graphics.clean();this.m_graphics=null;this.element.find("."+this.widgetEventPrefix).remove()};
primitives.callout.Controller.prototype._updateLayout=function(){this.m_panelSize=new primitives.common.Rect(0,0,this.element.innerWidth(),this.element.innerHeight());this.m_placeholder.css(this.m_panelSize.getCSS())};primitives.callout.Controller.prototype.update=function(a){a?(this._cleanLayout(),this._createLayout(),this._redraw()):(this._updateLayout(),this.m_graphics.resize("placeholder",this.m_panelSize.width,this.m_panelSize.height),this.m_graphics.begin(),this._redraw(),this.m_graphics.end())};
primitives.callout.Controller.prototype._redraw=function(){var a="pointerPlacement cornerRadius offset opacity lineWidth lineType pointerWidth borderColor fillColor".split(" "),c;this.m_graphics.activate("placeholder");for(c=0;c<a.length;c+=1){var b=a[c];this.m_shape[b]=this.options[b]}this.m_shape.draw(this.options.snapPoint,this.options.position)};
primitives.callout.Controller.prototype._setOption=function(a,c){jQuery.Widget.prototype._setOption.apply(this,arguments);switch(a){case "disabled":var b=jQuery([]);c?(b.filter(".ui-state-focus").blur(),b.removeClass("ui-state-hover"),b.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(b.propAttr("disabled",!1),this.element.removeClass("ui-disabled"))}};"undefined"!=typeof jQuery&&function(a){a.widget("ui.bpCallout",new primitives.callout.Controller)}(jQuery);
primitives.connector.Config=function(){this.classPrefix="bpconnector";this.graphicsType=primitives.common.GraphicsType.Canvas;this.orientationType=primitives.common.OrientationType.Top;this.connectorPlacementType=primitives.common.ConnectorPlacementType.Offbeat;this.connectorShapeType=primitives.common.ConnectorShapeType.OneWay;this.toRectangle=this.fromRectangle=null;this.offset=new primitives.common.Thickness(0,0,0,0);this.lineWidth=3;this.color=primitives.common.Colors.Black;this.lineType=primitives.common.LineType.Solid;
this.label=null;this.labelSize=new primitives.common.Size(60,30);this.labelPlacementType=primitives.common.ConnectorLabelPlacementType.Between};primitives.connector.AnnotationLabelTemplate=function(a){var c=["div",{"class":["bp-item","bp-corner-all","bp-connector-label"]}];return{template:function(){return c},getHashCode:function(){return"defaultAnnotationLabelTemplate"},render:function(b,c){c.element.innerHTML=a.label}}};
primitives.connector.Controller=function(){this.widgetEventPrefix="bpconnector";this.options=new primitives.connector.Config;this._labelTemplate=this._graphics=this._panelSize=this._placeholder=null};primitives.connector.Controller.prototype._create=function(){this.element.addClass("ui-widget");this._labelTemplate=primitives.connector.AnnotationLabelTemplate(this.options);this._createLayout();this._redraw()};primitives.connector.Controller.prototype.destroy=function(){this._cleanLayout()};
primitives.connector.Controller.prototype._createLayout=function(){this._panelSize=new primitives.common.Rect(0,0,this.element.outerWidth(),this.element.outerHeight());this._placeholder=jQuery("<div></div>");this._placeholder.css({position:"relative",overflow:"hidden",top:"0px",left:"0px",padding:"0px",margin:"0px"});this._placeholder.css(this._panelSize.getCSS());this._placeholder.addClass("placeholder");this._placeholder.addClass(this.widgetEventPrefix);this.element.append(this._placeholder);this._graphics=
primitives.common.createGraphics(this.options.graphicsType,this.element[0])};primitives.connector.Controller.prototype._cleanLayout=function(){null!==this._graphics&&this._graphics.clean();this._graphics=null;this.element.find("."+this.widgetEventPrefix).remove()};primitives.connector.Controller.prototype._updateLayout=function(){this._panelSize=new primitives.common.Rect(0,0,this.element.innerWidth(),this.element.innerHeight());this._placeholder.css(this._panelSize.getCSS())};
primitives.connector.Controller.prototype.update=function(a){a?(this._cleanLayout(),this._createLayout(),this._redraw()):(this._updateLayout(),this._graphics.resize("placeholder",this._panelSize.width,this._panelSize.height),this._graphics.begin(),this._redraw(),this._graphics.end())};
primitives.connector.Controller.prototype._redraw=function(){var a=this.options,c,b=new primitives.common.Transform,d=this._graphics.activate("placeholder"),e=new primitives.common.PolylinesBuffer,g=this,l=primitives.orgdiagram.ConnectorAnnotationOffsetResolver();b.size=new primitives.common.Size(this._panelSize.width,this._panelSize.height);b.setOrientation(a.orientationType);if(null!=a.fromRectangle&&null!=a.toRectangle){var h=a.fromRectangle,f=a.toRectangle;b.transformRect(h.x,h.y,h.width,h.height,
!1,this,function(a,b,c,d){h=new primitives.common.Rect(a,b,c,d)});b.transformRect(f.x,f.y,f.width,f.height,!1,this,function(a,b,c,d){f=new primitives.common.Rect(a,b,c,d)});switch(a.connectorPlacementType){case primitives.common.ConnectorPlacementType.Offbeat:var k=new primitives.common.ConnectorOffbeat;break;case primitives.common.ConnectorPlacementType.Straight:k=new primitives.common.ConnectorStraight}var m;b.transformRect(0,0,a.labelSize.width,a.labelSize.height,!1,this,function(a,b,c,d){m=new primitives.common.Size(c,
d)});var n=null;b.transformRect(0,0,d.size.width,d.size.height,!1,this,function(a,b,c,d){n=new primitives.common.Size(c,d)});d=new primitives.common.PaletteItem({lineColor:a.color,lineWidth:a.lineWidth,lineType:a.lineType});var p=!primitives.common.isNullOrEmpty(a.label);h=(new primitives.common.Rect(h)).offset(a.offset);f=(new primitives.common.Rect(f)).offset(a.offset);k.draw(e,d,h,f,6*a.lineWidth,0,m,n,a.connectorShapeType,4,a.labelPlacementType,p,l,function(a,d){primitives.common.isNullOrEmpty(d.label)||
null==a||(b.transformRect(a.x,a.y,a.width,a.height,!0,g,function(b,c,d,e){a=new primitives.common.Rect(b,c,d,e)}),c=new primitives.common.RenderEventArgs,c.context=d,g._graphics.template(a.x,a.y,0,0,0,0,a.width,a.height,g._labelTemplate.template(),g._labelTemplate.getHashCode(),g._labelTemplate.render,c,null))},a);l.resolve()}e.transform(b,!0);this._graphics.polylinesBuffer(e)};
primitives.connector.Controller.prototype._setOption=function(a,c){jQuery.Widget.prototype._setOption.apply(this,arguments);switch(a){case "disabled":var b=jQuery([]);c?(b.filter(".ui-state-focus").blur(),b.removeClass("ui-state-hover"),b.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(b.propAttr("disabled",!1),this.element.removeClass("ui-disabled"))}};"undefined"!=typeof jQuery&&function(a){a.widget("ui.bpConnector",new primitives.connector.Controller)}(jQuery);
"undefined"!=typeof jQuery&&function(a){a.widget("ui.famDiagram",new primitives.orgdiagram.Widget(primitives.famdiagram.Config,primitives.famdiagram.TaskManagerFactory,primitives.famdiagram.EventArgsFactory,{AnnotationLabelTemplate:primitives.common.AnnotationLabelTemplate,ButtonsTemplate:primitives.common.jQueryButtonsTemplate,CheckBoxTemplate:primitives.common.CheckBoxTemplate,CursorTemplate:primitives.common.CursorTemplate,DotHighlightTemplate:primitives.common.DotHighlightTemplate,GroupTitleTemplate:primitives.common.GroupTitleTemplate,
HighlightTemplate:primitives.common.HighlightTemplate,ItemTemplate:primitives.common.ItemTemplate,UserTemplate:primitives.common.UserTemplate,LabelAnnotationTemplate:primitives.common.LabelAnnotationTemplate}))}(jQuery);
primitives.shape.Config=function(){this.classPrefix="bpconnector";this.graphicsType=primitives.common.GraphicsType.Canvas;this.orientationType=primitives.common.OrientationType.Top;this.shapeType=primitives.common.ShapeType.Rectangle;this.position=null;this.offset=new primitives.common.Thickness(0,0,0,0);this.lineWidth=2;this.cornerRadius="10%";this.opacity=1;this.fillColor=this.borderColor=null;this.lineType=primitives.common.LineType.Solid;this.label=null;this.labelSize=new primitives.common.Size(60,
30);this.labelPlacement=primitives.common.PlacementType.Auto;this.labelOffset=4};primitives.shape.AnnotationLabelTemplate=function(a){var c=["div",{"class":["bp-item","bp-corner-all","bp-connector-label"]}];return{template:function(){return c},getHashCode:function(){return"defaultAnnotationLabelTemplate"},render:function(b,c){c.element.innerHTML=a.label}}};
primitives.shape.Controller=function(){this.widgetEventPrefix="bpshape";this.options=new primitives.shape.Config;this._labelTemplate=this.m_shape=this.m_graphics=this.m_panelSize=this.m_placeholder=null};primitives.shape.Controller.prototype._create=function(){this.element.addClass("ui-widget");this._labelTemplate=primitives.shape.AnnotationLabelTemplate(this.options);this._createLayout();this._redraw()};primitives.shape.Controller.prototype.destroy=function(){this._cleanLayout()};
primitives.shape.Controller.prototype._createLayout=function(){this.m_panelSize=new primitives.common.Rect(0,0,this.element.outerWidth(),this.element.outerHeight());this.m_placeholder=jQuery("<div></div>");this.m_placeholder.css({position:"relative",overflow:"hidden",top:"0px",left:"0px",padding:"0px",margin:"0px"});this.m_placeholder.css(this.m_panelSize.getCSS());this.m_placeholder.addClass("placeholder");this.m_placeholder.addClass(this.widgetEventPrefix);this.element.append(this.m_placeholder);
this.m_graphics=primitives.common.createGraphics(this.options.graphicsType,this.element[0])};primitives.shape.Controller.prototype._cleanLayout=function(){null!==this.m_graphics&&this.m_graphics.clean();this.m_graphics=null;this.element.find("."+this.widgetEventPrefix).remove()};primitives.shape.Controller.prototype._updateLayout=function(){this.m_panelSize=new primitives.common.Rect(0,0,this.element.innerWidth(),this.element.innerHeight());this.m_placeholder.css(this.m_panelSize.getCSS())};
primitives.shape.Controller.prototype.update=function(a){a?(this._cleanLayout(),this._createLayout(),this._redraw()):(this._updateLayout(),this.m_graphics.resize("placeholder",this.m_panelSize.width,this.m_panelSize.height),this.m_graphics.begin(),this._redraw(),this.m_graphics.end())};
primitives.shape.Controller.prototype._redraw=function(){var a="orientationType shapeType offset lineWidth borderColor lineType labelSize labelOffset labelPlacement cornerRadius opacity fillColor".split(" "),c;this.m_graphics.activate("placeholder");this.m_shape=new primitives.common.Shape(this.m_graphics);for(c=0;c<a.length;c+=1){var b=a[c];this.m_shape[b]=this.options[b]}this.m_shape.hasLabel=!primitives.common.isNullOrEmpty(this.options.label);this.m_shape.labelTemplate=this._labelTemplate;this.m_shape.panelSize=
new primitives.common.Size(this.m_panelSize.width,this.m_panelSize.height);this.m_shape.draw(this.options.position)};primitives.shape.Controller.prototype._setOption=function(a,c){jQuery.Widget.prototype._setOption.apply(this,arguments);switch(a){case "disabled":var b=jQuery([]);c?(b.filter(".ui-state-focus").blur(),b.removeClass("ui-state-hover"),b.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(b.propAttr("disabled",!1),this.element.removeClass("ui-disabled"))}};
"undefined"!=typeof jQuery&&function(a){a.widget("ui.bpShape",new primitives.shape.Controller)}(jQuery);
primitives.text.Config=function(){this.classPrefix="bptext";this.graphicsType=primitives.common.GraphicsType.SVG;this.orientation=primitives.text.TextOrientationType.Horizontal;this.text="";this.verticalAlignment=primitives.common.VerticalAlignmentType.Middle;this.horizontalAlignment=primitives.common.HorizontalAlignmentType.Center;this.fontSize="16px";this.fontFamily="Arial";this.color=primitives.common.Colors.Black;this.fontStyle=this.fontWeight="normal"};
primitives.text.Controller=function(){this.widgetEventPrefix="bptext";this.options=new primitives.text.Config;this.m_graphics=this.m_panelSize=this.m_placeholder=null};primitives.text.Controller.prototype._create=function(){this.element.addClass("ui-widget");this._createLayout();this._redraw()};primitives.text.Controller.prototype.destroy=function(){this._cleanLayout()};
primitives.text.Controller.prototype._createLayout=function(){this.m_panelSize=new primitives.common.Rect(0,0,this.element.outerWidth(),this.element.outerHeight());this.m_placeholder=jQuery("<div></div>");this.m_placeholder.css({position:"relative",overflow:"hidden",top:"0px",left:"0px",padding:"0px",margin:"0px"});this.m_placeholder.css(this.m_panelSize.getCSS());this.m_placeholder.addClass("placeholder");this.m_placeholder.addClass(this.widgetEventPrefix);this.element.append(this.m_placeholder);
this.m_graphics=primitives.common.createGraphics(this.options.graphicsType,this.element[0])};primitives.text.Controller.prototype._cleanLayout=function(){null!==this.m_graphics&&this.m_graphics.clean();this.m_graphics=null;this.element.find("."+this.widgetEventPrefix).remove()};primitives.text.Controller.prototype._updateLayout=function(){this.m_panelSize=new primitives.common.Rect(0,0,this.element.innerWidth(),this.element.innerHeight());this.m_placeholder.css(this.m_panelSize.getCSS())};
primitives.text.Controller.prototype.update=function(a){a?(this._cleanLayout(),this._createLayout(),this._redraw()):(this._updateLayout(),this.m_graphics.resize("placeholder",this.m_panelSize.width,this.m_panelSize.height),this.m_graphics.begin(),this._redraw(),this.m_graphics.end())};
primitives.text.Controller.prototype._redraw=function(){var a=this.m_graphics.activate("placeholder");this.m_graphics.text(a.rect.x,a.rect.y,a.rect.width,a.rect.height,this.options.text,this.options.orientation,this.options.horizontalAlignment,this.options.verticalAlignment,{fontSize:this.options.fontSize,fontFamily:this.options.fontFamily,fontStyle:this.options.fontStyle,fontWeight:this.options.fontWeight,fontColor:this.options.color})};
primitives.text.Controller.prototype._setOption=function(a,c){jQuery.Widget.prototype._setOption.apply(this,arguments);switch(a){case "disabled":var b=jQuery([]);c?(b.filter(".ui-state-focus").blur(),b.removeClass("ui-state-hover"),b.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(b.propAttr("disabled",!1),this.element.removeClass("ui-disabled"))}};"undefined"!=typeof jQuery&&function(a){a.widget("ui.bpText",new primitives.text.Controller)}(jQuery);
